kind: pipeline
type: docker
name: default

steps:
  - name: fetch-tags
    image: quay.io/synpse/golang:1.16
    commands:
      - git fetch --tags
  - name: test-unit
    image: quay.io/synpse/golang:1.16
    environment:
      SYNPSE_SDK_TEST_PROJECT_NAME: synpse-sdk-test-project
      SYNPSE_SDK_TEST_PROJECT_ID: prj_21BO1T8hxoZoozKWgLEvphVBgXk
      SYNPSE_SDK_TEST_APPLICATION_NAME: sdk-testing-app
      SYNPSE_PROJECT_ACCESS_KEY:
        from_secret: projectAccessKey
      SYNPSE_PERSONAL_ACCESS_KEY:
        from_secret: personalAccessKey